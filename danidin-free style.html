<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Danidin-free style</title>
    <link rel="webstore icon" type="png" href="danidin-logo.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.full.min.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #0d2a18 0%, #14532d 100%);
            margin: 0;
            font-family: "Segoe UI", Arial, sans-serif;
   
            color: #ffe55f;
            animation: fadeInBody 1.2s;
        }

        @keyframes fadeInBody {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        header.flex {
            display: flex;
            align-items: center;
            background: linear-gradient(90deg, #14532d 60%, #bfae2e 100%);
            box-shadow: 0 2px 16px rgba(20,83,45,0.18);
            padding: 0px 0 10px 0;
            border-bottom: 4px solid #ffd600;
            animation: slideDown 1s;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-60px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .name {
            font-family: 'Varela Round', Arial, sans-serif;
            letter-spacing: 2px;
            color: #ffe55f;
            text-shadow: 2px 2px 8px #14532d, 0 0 2px #ffd600;
            transition: color 0.3s;
        }

        .magnifying-glass {
            width: 90px;
            border-radius: 30px;
            box-shadow: 0 4px 16px rgba(20,83,45,0.18);
            border: 3px solid #ffd600;
            background: #ffe55f;
            animation: popIn 1.2s;
        }

        @keyframes popIn {
            0% {
                transform: scale(0.7);
                opacity: 0;
            }

            80% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .main-content {
            margin: 60px auto 0 auto;
            max-width: 1100px;
            background: rgba(255,255,255,0.10);
            border-radius: 32px;
            box-shadow: 0 8px 48px rgba(20,83,45,0.28);
            padding: 64px 48px 48px 48px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1, h2, h3 {
            text-align: center;
            font-family: 'Varela Round', Arial, sans-serif;
            color: #ffe55f;
            text-shadow: 1px 1px 0 #14532d;
            margin: 0 0 32px 0;
        }

        h1 {
            font-size: 56px;
            font-weight: bold;
        }

        h2, h3 {
            font-size: 32px;
        }

        h3 {
            box-shadow: 5px 5px 4px #184d2b;
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 12px 0;
        }

        .whoAmI {
            padding: 48px 48px;
            font-size: 28px;
            background: #ffe55f;
            color: #14532d;
            border: none;
            border-radius: 24px;
            font-weight: bold;
            margin: 32px 0;
            box-shadow: 0 2px 8px rgba(255,214,0,0.10);
        }

        .big-option {
            z-index: 10;
            position: absolute;
            border: 4px solid #ffd600;
            color: #ffe55f;
            background: linear-gradient(90deg, #14532d 60%, #bfae2e 100%);
            padding: 10px 60px;
            top: 25px;
            font-size: 40px;
            font-weight: bold;
            border-radius: 18px;
            transition: background 0.3s, color 0.3s, border 0.3s;
        }

            .big-option:hover {
                color: #25d366;
                border-color: #25d366;
                background: linear-gradient(90deg, #1e7e34 60%, #ffd600 100%);
            }

        .glow-on-hover, .connection-button, .afterConnection, .afterConnection-delete, .afterConnection-give {
            font-size: 28px;
            padding: 18px 48px;
            border-radius: 18px;
            border: none;
            margin: 18px 0;
            font-weight: bold;
            transition: background 0.3s, color 0.3s, transform 0.2s;
            box-shadow: 0 2px 8px rgba(255,214,0,0.10);
        }

        .glow-on-hover {
            background: linear-gradient(90deg, #25d366 60%, #ffd600 100%);
            color: #14532d;
        }

            .glow-on-hover:hover {
                background: linear-gradient(90deg, #14532d 60%, #ffd600 100%);
                color: #ffe55f;
                transform: scale(1.05);
            }

        .connection-button, .afterConnection, .afterConnection-delete, .afterConnection-give {
            background: linear-gradient(90deg, #14532d 60%, #bfae2e 100%);
            color: #ffe55f;
        }

            .connection-button:hover, .afterConnection:hover, .afterConnection-delete:hover {
                background: linear-gradient(90deg, #25d366 60%, #ffd600 100%);
                color: #14532d;
                transform: scale(1.05);
            }

        .input {
            font-size: 24px;
            padding: 18px 24px;
            border-radius: 12px;
            border: 2px solid #ffd600;
            margin: 16px 0;
            background: #fffde7;
            color: #14532d;
            width: 340px;
            box-sizing: border-box;
        }

        .background-disappear {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 50%;
            background: linear-gradient(135deg, #25d366 0%, #14532d 100%);
            height: 635px;
            width: 50%;
            transition: right 1s;
            border-radius: 18px 0 0 18px;
            opacity: 1;
        }

        .center, .flex-center, .flex-center-row {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flex-center-row {
            flex-direction: row;
            gap: 24px;
        }

        .footer {
            bottom: 0;
            text-align: center;
            width: 100%;
            min-height: 120px;
            background: linear-gradient(90deg, #0d2a18 60%, #bfae2e 100%);
            margin-top: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            direction: rtl;
            color: #ffe55f;
            font-size: 28px;
            box-shadow: 0 -2px 8px rgba(20,83,45,0.18);
        }
        @media (max-width: 1000px) {
            header.flex > div[style*="min-width"] {
                min-width: 0 !important;
            }

            .magnifying-glass {
                width: 120px !important;
                min-width: 40px !important;
                max-width: 150px !important;
                display: block !important;
            }

            .small-so-none {
                min-width: 0 !important;
                flex: 1 !important;
                display: block !important;
            }
            /* Optionally, reduce font size for .name to fit better */
            .name {
                font-size: 50px !important;
                margin-left: 10px !important;
                margin-right: 10px !important;
            }
            .main-content {
                padding: 18px 2vw 18px 2vw;
                max-width: 98vw;
            }


            .big-option {
                font-size: 28px;
                padding: 8px 16px;
            }

            .input {
                width: 50vw;
            }
        }

    </style>
</head>
<body>
    <link rel="stylesheet" href="styleHeader.css" />
    <header class="flex">
        <div class="relative" style="flex: 1;">
            <a href="danidin-ordered joining.html">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Point_cloud_torus.gif/220px-Point_cloud_torus.gif" style="width:60px; border-radius:12px;" />
            </a>
            <div style="color:#ffe55f; font-weight:bold; margin-top:10px;">הצטרפות מסודרת</div>
        </div>
        <div style="flex: 6; min-width: 450px;">
            <p class="name" style="margin-left: 240px;font-size:70px;margin-bottom:10px;">דנידין</p>
            <p class="name" style="margin-right: 230px;margin-top: 10px;">לרואה ואינו נראה</p>
        </div>
        <div class="small-so-none" style="flex: 1.75;">
            <a href="danidin.html">
                <img class="magnifying-glass" src="danidin-logo.png" />
            </a>
        </div>
    </header>
    <div style="margin-top: 300px;"></div>
    <div class="main-content">
        <h1>סגנון חופשי</h1>
        <h2 class="secondHeader">בתכלס אתה לא צריך להירשם, אבל אם אתה רוצה שנשמור לך את כמות הפעמים שהבאת, עדיף, למה לא</h2>
        <h3 class="secondHeader">המידע פה לא יוצא מהמכשיר, הוא פה רק בשבילך</h3>
        <div class="center">
            <button class="whoAmI" id="whoAmI">משתמש: אנונימי</button>
        </div>
        <div style="display:grid; grid-template-columns: 1fr 1fr;position:relative;background-color: #184d2b;padding-bottom: 110px; border-radius: 32px; margin-top: 32px;">
            <div class="flex-center">
                <button class="big-option" onclick="placeRegistration()">הרשמה</button>
                <div style="margin-top: 200px;"></div>
                <input class="input" id="wordInput" placeholder=" שם" />
                <input class="input" id="phoneInput" placeholder="מספר פלאפון" />
                <button class="glow-on-hover" style="margin-top:50px;" onclick="saveWord()">הרשמה</button>
            </div>
            <div class="flex-center" id="deleteConnection">
                <button class="big-option" onclick="placeConnection()">התחברות</button>
                <div style="margin-top: 200px;"></div>
                <input class="input" id="word-input" placeholder="שם" />
                <input class="input" id="phone-input" placeholder="מספר פלאפון" />
                <button class="connection-button" style="margin-top:50px;" onclick="connection()" id="password-input">התחברות</button>
            </div>
            <div class="flex-center" style="display: none; flex-direction: column; position: relative; justify-self: center" id="returnConnection">
                <button class="big-option" onclick="placeConnection()">התנתקות</button>
                <div style="margin-top: 300px;"></div>
                <button class="connection-button" style="margin-top:40px;" onclick="returnDelete()">התנתקות</button>
            </div>
            <div class="background-disappear" id="background-disappear"></div>
        </div>
        <div style="margin-top: 40px;"></div>
        <div style="display:none;" id="afterConnection">
            <div class="flex-center-row">
                <button class="afterConnection-delete" onclick="deleteImformation()">אני רוצה להתנתק מהמיזם ולמחוק את המידע עלי</button>
                <button class="afterConnection-give" id="giveTimes">הבאתי 5 פעמים</button>
                <button class="afterConnection" onclick="Igive()">הבאתי משהו</button>
            </div>
        </div>
        <div id="anonimos-div" style="display:flex;justify-content:center;">
            <button class="afterConnection" onclick="Igive()">הבאתי באופן אנונימי וככה אני רוצה שזה ישמר</button>
        </div>
        <div id="forTheProgramer" style="display: none;grid-template-columns: 300px 200px 200px 100px 100px;">
            <ul id="wordListImage"></ul>
            <ul id="wordList"></ul>
            <ul id="wordList2"></ul>
            <ul id="wordList3"></ul>
            <div>
                <div style="margin-bottom: 15px;"></div>
                <label>כל האנונימים הביאו ביחד </label>
                <label id="anonimos">0</label>
            </div>
            <button  class="whoAmI" onclick="clearList()">לנקות את הרשימה שפה</button>
        </div>
          
        </div>
    <div class="footer">
        <p>
            אם אתם רוצים להציע הצעות, רעיונות,
            או סתם דברים שתפסו לכם את העין אתם יכולים לפנות
            למספר 053-437-8742 או למספר 052-349-8002
        </p>
    </div>
    <script src="danidin-JS.js"></script>
    <script>
        // Retrieve saved words when the page loads
        document.addEventListener('DOMContentLoaded', function () {
            const phones = JSON.parse(localStorage.getItem('phones')) || [];
            phones.forEach(phone => addWordToTheList(phone, "wordList"));

            const names = JSON.parse(localStorage.getItem('names')) || [];
            names.forEach(name => addWordToTheList(name, "wordList2"));

            const times = JSON.parse(localStorage.getItem('times-you-give')) || [];
            times.forEach(times => addWordToTheList(times, "wordList3"));

            const userPhone = localStorage.getItem('userPhone');
            if (userPhone != -1) {
                document.getElementById('whoAmI').innerHTML = "משתמש: " + names[phones.indexOf(userPhone)];
                document.getElementById('deleteConnection').style.display = "none";
                document.getElementById('returnConnection').style.display = "flex";
                document.getElementById('afterConnection').style.display = "block";
                document.getElementById('anonimos-div').style.display = "none";

                document.getElementById('giveTimes').innerHTML = " הבאתי " + times[phones.indexOf(userPhone)] + " פעמים ";
            }
            else {
                const anonimos = localStorage.getItem('anonimos');
                document.getElementById('anonimos').innerHTML = anonimos;
            }

            const images = JSON.parse(localStorage.getItem("image-list")) || [];
            saveImages(images);
        });

        // Function to save a word to localStorage
        function saveWord() {
            const input = document.getElementById('wordInput');
            const name = input.value.trim();
            const inputPhone = document.getElementById('phoneInput');
            const phone = inputPhone.value.trim();
            if (name && phone) {
                let phones = JSON.parse(localStorage.getItem('phones')) || [];
                let names = JSON.parse(localStorage.getItem('names')) || [];
                let times = JSON.parse(localStorage.getItem('times-you-give')) || [];
                if (phone.length == 10 && !phone.includes(" ") && phone[0] == "0" && /^[0-9]+$/.test(phone)) {
                    // Check if the word already exists
                    if (!phones.includes(phone)) {
                        phones.push(phone);
                        names.push(name)
                        times.push(0)
                        localStorage.setItem('phones', JSON.stringify(phones));
                        localStorage.setItem('names', JSON.stringify(names));
                        localStorage.setItem('times-you-give', JSON.stringify(times));
                        addWordToTheList(phone, "wordList")
                        addWordToTheList(name, "wordList2")
                        addWordToTheList(0, "wordList3")
                        input.value = ''; // Clear the input field
                        inputPhone.value = '';
                        document.getElementById('deleteConnection').style.display = "none";
                        document.getElementById('returnConnection').style.display = "flex";
                        document.getElementById('afterConnection').style.display = "block";
                        document.getElementById('anonimos-div').style.display = "none";

                        document.getElementById('whoAmI').innerHTML = "משתמש: " + name;
                        localStorage.setItem('userPhone', phone);
                        document.getElementById('giveTimes').innerHTML = " הבאתי " + times[phones.indexOf(phone)] + " פעמים ";
                        if (phone == "0534378742" && name == "programmer") {
                            document.getElementById('forTheProgramer').style.display = "grid";
                        }
                        else {
                            document.getElementById('forTheProgramer').style.display = "none";
                        }

                    } else {
                        alert("משמח שאתה רוצה להירשם אבל הבעיה היא  שהמספר הזה כבר בתוך הרשימות שלנו, אז או שנרשמת כבר ושכחת, או שיש טעות, או שיש בעיה אחרת, תבדוק את עצמך");
                    }
                }
                else {
                    alert("מאוד משמח שאתה רוצה להצטרף אבל המספר טלפון שלך לא הגיוני")
                }

            }
            else {
                alert("אתה בטח מסכים איתי שבשביל להירשם צריך להכניס גם שם וגם מספר פלאפון")
            }
        }
        function connection() {
            const input = document.getElementById('word-input');
            const name = input.value.trim();
            const inputPhone = document.getElementById('phone-input');
            const phone = inputPhone.value.trim();

            if (name && phone) {
                let phones = JSON.parse(localStorage.getItem('phones')) || [];
                let names = JSON.parse(localStorage.getItem('names')) || [];
                const times = JSON.parse(localStorage.getItem('times-you-give')) || [];

                if (phones.includes(phone)) {
                    if (names[phones.indexOf(phone)] === name) {
                        input.value = ''; // Clear the input field
                        inputPhone.value = '';
                        document.getElementById('deleteConnection').style.display = "none";
                        document.getElementById('returnConnection').style.display = "flex";
                        document.getElementById('afterConnection').style.display = "block";
                        document.getElementById('anonimos-div').style.display = "none";

                        document.getElementById('whoAmI').innerHTML = "משתמש: " + name;
                        console.log(phone);
                        localStorage.setItem('userPhone', phone);
                        document.getElementById('giveTimes').innerHTML = " הבאתי " + times[phones.indexOf(phone)] + " פעמים ";

                        if (phone == "0534378742" && name == "programmer") {
                            document.getElementById('forTheProgramer').style.display = "grid";
                        }
                    }
                    else {
                        alert("לצערנו המספר פלאפון הזה לא תואם את השם משתמש")
                    }
                }
                else {
                    alert("המספר פלאפון הזה לא נמצא ברשימה")
                }
            }
            else {
                alert("אתה בטח מסכים איתי שבשביל להתחבר צריך להכניס גם שם וגם מספר פלאפון")
            }
        }
        function Igive() {
            const userPhone = localStorage.getItem('userPhone');
            if (userPhone != -1) {
                let phones = JSON.parse(localStorage.getItem('phones')) || [];
                let times = JSON.parse(localStorage.getItem('times-you-give')) || [];

                let timesIgive = times[phones.indexOf(userPhone)]
                timesIgive = timesIgive + 1;
                document.getElementById('giveTimes').innerHTML = " הבאתי " + timesIgive + " פעמים ";
                times[phones.indexOf(userPhone)] = timesIgive;
                localStorage.setItem('times-you-give', JSON.stringify(times));

                document.getElementById('wordList3').innerHTML = '';
                times.forEach(times => addWordToTheList(times, "wordList3"));

            }
            else {
                let anonimos = localStorage.getItem('anonimos');
                anonimos++;
                localStorage.setItem('anonimos', anonimos);
                document.getElementById('anonimos').innerHTML = anonimos;
            }
        }
        function returnDelete() {
            document.getElementById('deleteConnection').style.display = "flex";
            document.getElementById('returnConnection').style.display = "none";
            document.getElementById('afterConnection').style.display = "none";
            document.getElementById('anonimos-div').style.display = "flex";
            document.getElementById('forTheProgramer').style.display = "none";
            document.getElementById('whoAmI').innerHTML = "משתמש: אנונימי";
            localStorage.setItem('userPhone', -1);
        }
        // Function to add a word to the displayed list
        function addWordToTheList(item, wordList) {
            const wordList1 = document.getElementById(wordList);
            const li = document.createElement('li');
            li.textContent = item;
            wordList1.appendChild(li);
        }
        // Function to clear the list from both the UI and localStorage
        function deleteImformation() {
            //objects
            let phones = JSON.parse(localStorage.getItem('phones')) || [];
            let names = JSON.parse(localStorage.getItem('names')) || [];
            let times = JSON.parse(localStorage.getItem('times-you-give')) || [];
            const userPhone = localStorage.getItem('userPhone');
            console.log(userPhone)
            let index = phones.indexOf(userPhone);

            //delete
            phones.splice(index, 1);
            names.splice(index, 1);
            times.splice(index, 1);
            console.log(index);
            localStorage.setItem('phones', JSON.stringify(phones));
            localStorage.setItem('names', JSON.stringify(names));
            localStorage.setItem('times-you-give', JSON.stringify(times));

            // delete in the list
            document.getElementById('wordList').innerHTML = ''; // Clear the displayed list
            document.getElementById('wordList2').innerHTML = ''; // Clear the displayed list
            document.getElementById('wordList3').innerHTML = ''; // Clear the displayed list
            phones.forEach(phone => addWordToTheList(phone, "wordList"));
            names.forEach(name => addWordToTheList(name, "wordList2"));
            times.forEach(times => addWordToTheList(times, "wordList3"));

            returnDelete();
        }
        function clearList() {
            localStorage.removeItem('phones'); // Remove from localStorage
            document.getElementById('wordList').innerHTML = ''; // Clear the displayed list
            document.getElementById('wordList2').innerHTML = ''; // Clear the displayed list
            localStorage.removeItem('names'); // Remove from localStorage
            document.getElementById('wordList3').innerHTML = ''; // Clear the displayed list
            localStorage.removeItem('times-you-give'); // Remove from localStorage
            localStorage.setItem('anonimos', 0);
            document.getElementById('anonimos').innerHTML = 0;
            localStorage.setItem('image-list', 0);
            document.getElementById('wordListImage').innerHTML = '';
        }

        // document.addEventListener("DOMContentLoaded", () => {
        // Retrieve the image list from localStorage when the page is loaded
        // const images = JSON.parse(localStorage.getItem("image-list")) || [];

        // Display the images
        // saveImages(images);
        //  });

        // Function to display images in the list
        function saveImages(images) {
            //   const imgPreview = document.querySelector("#imagePreview");
            const wordList = document.querySelector("#wordListImage");

            // Clear the previous image list
            wordList.innerHTML = '';

            // Display the last uploaded image as a preview
            //   if (images.length > 0) {
            ///      imgPreview.src = images[images.length - 1];
            //  }

            // Loop through all images and create list items
            images.forEach(image => {
                const li = document.createElement("li");
                const img = document.createElement("img");
                img.src = image;
                img.style.width = "100px";  // Adjust size as needed
                li.appendChild(img);
                wordList.appendChild(li);
            });
        }

    </script>

</body>
</html>
